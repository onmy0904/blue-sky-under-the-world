<!DOCTYPE html>
<html lang="ko">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ì„¸ê³„ ì•„ë˜ í‘¸ë¥¸ í•˜ëŠ˜</title>
    <!-- Pretendard CDN (ê°€ë²¼ìš´ í°íŠ¸ ì‚¬ìš©) -->
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css" />
    <style>
        /* reset & globals */
        * {
            box-sizing: border-box;
            font-family: "Pretendard", sans-serif;
        }

        html,
        body {
            margin: 0;
            padding: 0;
            height: 100%;
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
        }

        body {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        main {
            flex: 1 0 auto;
            width: 100%;
            max-width: 860px;
            margin: 0 auto;
            padding: 24px;
        }

        h1,
        h2,
        h3 {
            margin: 0.4em 0;
        }

        button {
            padding: 10px 18px;
            margin: 6px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1rem;
        }

            button.primary {
                background: #4f46e5;
                color: #fff;
            }

        /* Cards */
        .card {
            border: 1px solid #ddd;
            border-radius: 10px;
            padding: 16px;
            margin: 8px;
            cursor: pointer;
            transition: transform 0.15s, box-shadow 0.15s;
        }

            .card:hover {
                transform: translateY(-4px);
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            }

        /* Sections visibility */
        section {
            display: none;
        }

            section.active {
                display: block;
            }

        /* Flex centering for quiz */
        #test {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        /* Responsive card grid */
        #cards,
        #catList {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
        }

        @media (max-width: 600px) {
            #cards,
            #catList {
                flex-direction: column;
            }
        }

        /* Top navigation bar */
        header {
            background: #ffffffcc;
            backdrop-filter: saturate(180%) blur(10px);
            position: sticky;
            top: 0;
            width: 100%;
            z-index: 100;
            border-bottom: 1px solid #eee;
        }

        nav {
            max-width: 860px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 24px;
        }

            nav a {
                margin: 0 6px;
                text-decoration: none;
                color: #4f46e5;
                font-weight: 500;
            }
    </style>
</head>
<body>
    <header>
        <nav>
            <span style="font-weight:700;">ğŸ‘¥ ì¸ê¶Œ ê°ìˆ˜ì„± ì²´í¬</span>
            <div>
                <a href="#" onclick="goSection('intro')">í™ˆ</a>
                <a href="#" onclick="goSection('about')">ì†Œê°œ</a>
                <a href="#" onclick="goSection('main')">ì‚¬ë¡€</a>
                <a href="#" onclick="goSection('resources')">ìë£Œì‹¤</a>
            </div>
        </nav>
    </header>

    <main>
        <!-- Intro / Home -->
        <section id="intro" class="active" style="text-align:center;">
            <h1 id="introTitle">ì•ˆë…•í•˜ì„¸ìš”! ë‹¹ì‹ ì˜ ì¼ìƒì€ ì–´ë– ì‹ ê°€ìš”?</h1>
            <p id="introMsg">ê°„ë‹¨í•œ ë¬¸ì œë¡œ ì¼ìƒì„ í•¨ê»˜ ëŒì•„ë³´ì•„ìš”.</p>
            <button id="introBtn" class="primary" onclick="start()">ì§„ë‹¨ ì‹œì‘í•˜ê¸°</button>
            <div style="margin-top:12px;">
                <button onclick="resetCheck()">ğŸ”„ ì¸ì‹ ì¬ì§„ë‹¨ í•˜ê¸°</button>
            </div>
            <p id="questText" style="margin-top:24px; font-weight:600;"></p>
        </section>

        <!-- Quiz -->
        <section id="test">
            <h2 id="qText"></h2>
            <div>
                <button onclick="answer('yes')">ì˜ˆ</button>
                <button onclick="answer('no')">ì•„ë‹ˆì˜¤</button>
                <button onclick="answer('unsure')">ì˜ ëª¨ë¥´ê² ìŒ</button>
            </div>
            <p id="progress" style="margin-top:8px;"></p>
        </section>

        <!-- Main Cases -->
        <section id="main">
            <h2>ì¼ìƒ ì† ì°¨ë³„ ì‚¬ë¡€</h2>
            <div id="cards"></div>
        </section>

        <!-- Case viewer -->
        <section id="caseViewer">
            <button onclick="closeCase()">â† ë’¤ë¡œ</button>
            <h2 id="caseTitle"></h2>
            <p><strong>ë¬¸ì œ</strong>: <span id="caseProb"></span></p>
            <p><strong>ê°œì„  ê°€ì´ë“œ</strong>: <span id="caseSol"></span></p>
        </section>

        <!-- About -->
        <section id="about">
            <h2>í”„ë¡œì íŠ¸ ì†Œê°œ</h2>
            <p>
                ì´ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ì¼ìƒ ì†ì—ì„œ ë¬´ì‹¬ì½” ì§€ë‚˜ì¹  ìˆ˜ ìˆëŠ” ì°¨ë³„ì  ì‚¬ê³ ì™€ êµ¬ì¡°ë¥¼
                ë°œê²¬í•˜ê³ , ë” ë‚˜ì€ ì¸ê¶Œ ê°ìˆ˜ì„±ì„ ê¸°ë¥´ê¸° ìœ„í•´ ë§Œë“¤ì–´ì¡ŒìŠµë‹ˆë‹¤. ì§§ì€ ìê°€ ì§„ë‹¨ì„
                í†µí•´ ìì‹ ì˜ ê´€ì ì„ ì ê²€í•˜ê³ , í˜„ì¥ì—ì„œ ë§ˆì£¼ì¹˜ëŠ” ì‹¤ì œ ì‚¬ë¡€ì™€ í•´ê²° ë°©ì•ˆì„ í•¨ê»˜
                ì‚´í´ë³´ì„¸ìš”. ë˜í•œ ë§¤ì¼ ì œê³µë˜ëŠ” ì‘ì€ í–‰ë™ ì§€ì¹¨(ğŸ’¡ ë°ì¼ë¦¬ í€˜ìŠ¤íŠ¸)ì„ í†µí•´ ê³µì¡´ì„
                ìœ„í•œ ì‹¤ì²œì„ ì´ì–´ê°ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
            </p>
        </section>

        <!-- Resources -->
        <section id="resources">
            <h2>ì¹´í…Œê³ ë¦¬ë³„ ìë£Œì‹¤</h2>
            <div id="catList"></div>

            <!-- Books -->
            <article id="bookPage" style="display:none;">
                <button onclick="showCatList()">â† ì¹´í…Œê³ ë¦¬ ëª©ë¡</button>
                <h3>ğŸ“š ì¶”ì²œ ë„ì„œ</h3>
                <ul id="bookList"></ul>
            </article>

            <!-- Videos -->
            <article id="videoPage" style="display:none;">
                <button onclick="showCatList()">â† ì¹´í…Œê³ ë¦¬ ëª©ë¡</button>
                <h3>ğŸ¬ ì¶”ì²œ ì˜ìƒ</h3>
                <ul id="videoList"></ul>
            </article>

            <!-- Websites -->
            <article id="sitePage" style="display:none;">
                <button onclick="showCatList()">â† ì¹´í…Œê³ ë¦¬ ëª©ë¡</button>
                <h3>ğŸŒ ìœ ìš©í•œ ì›¹ì‚¬ì´íŠ¸</h3>
                <ul id="siteList"></ul>
            </article>
        </section>
    </main>

    <footer style="text-align:center; padding:16px 0; font-size:0.9rem; color:#555;">
        Â© 2025 ì¸ê¶Œ ê°ìˆ˜ì„± ì²´í¬. All rights reserved.
    </footer>

    <script>
        /* -------------------------- ë°ì´í„° --------------------------- */
        const questions = [
            { text: "í‘ì¸ì„ ë³´ë©´ êµ­ì ì´ ì•„í”„ë¦¬ì¹´ ì¶œì‹ ì¼ ê²ƒì´ë¼ê³  ìƒê°í•œë‹¤.", bad: "yes" },
            { text: "ì˜†ì§‘ì— ì™¸êµ­ì¸ì´ë¼ê³  ìƒê°ë˜ëŠ” ì´ì›ƒì´ ìˆì–´ë„ ë¶ˆí¸í•˜ì§€ ì•Šì„ ê²ƒì´ë‹¤.", bad: "no" },
            { text: "í•œêµ­ì— ê·€í™”í•œ ë² íŠ¸ë‚¨ ì¶œì‹  í•™ìƒê³¼ ëŒ€í•œë¯¼êµ­ í•™ìƒì€ ë™ë“±í•œ ëŒ€ìš°ë¥¼ ë°›ì•„ì•¼ í•œë‹¤.", bad: "no" },
            { text: "ì¤‘êµ­ì‹ ì´ë¦„ë³´ë‹¤ ë¯¸êµ­ì‹ ì´ë¦„ì´ ë”ìš± ë©‹ì§€ê³  ê¶Œë ¥ ìˆì–´ ë³´ì¸ë‹¤ê³  ìƒê°í•œë‹¤.", bad: "yes" },
            { text: "í•œêµ­ì˜ ì´ì£¼ë…¸ë™ìëŠ” í•œêµ­ì¸ê³¼ ë™ë“±í•œ ê·¼ë¡œ ì¡°ê±´ì´ ë³´ì¥ë˜ì–´ì•¼ í•œë‹¤.", bad: "no" },
            { text: "ë‚¨ìì™€ ì—¬ìê°€ ê°™ì€ ì¼ì„ í•˜ë©´ ê°™ì€ ë³´ìˆ˜ë¥¼ ë°›ì•„ì•¼ í•œë‹¤.", bad: "no" },
            { text: "íŠ¹ì • ì„±ë³„ì— ì–´ìš¸ë¦¬ì§€ ì•ŠëŠ” ì§ì—…ì´ ìˆë‹¤ê³  ìƒê°í•œë‹¤.", bad: "yes" },
            { text: "ì„±ë³„ ë•Œë¬¸ì— ì¼ìƒìƒí™œ ì†ì—ì„œ ë¶ˆí¸í•¨ì„ ëŠë¼ê±°ë‚˜ ì°¨ë³„ë°›ì€ ì ì´ ìˆë‹¤.", bad: "yes" },
            { text: "ì—¬ì„±ìš© ì˜·ì˜ ì£¼ë¨¸ë‹ˆê°€ ì‘ê±°ë‚˜ ì—†ëŠ” ê²ƒì€ ë¬¸ì œê°€ ëœë‹¤.", bad: "no" },
            { text: "ì¥ì• ì¸ì„ ìœ„í•œ ì‹œì„¤ì´ ì¼ìƒì— ë¶ˆí¸ì„ ì¤€ë‹¤ê³  ìƒê°í•œ ì ì´ ìˆë‹¤.", bad: "yes" },
            { text: "ë²„ìŠ¤ì— íœ ì²´ì–´ë¥¼ íƒ„ ì‚¬ëŒì´ íƒ€ê¸° ìœ„í•´ ì¢Œì„ì´ ì¤„ì–´ë“¤ì–´ë„ ê´œì°®ë‹¤.", bad: "no" },
            { text: "ë‚´ì¼ ë‚˜ëŠ” ì¥ì• ì¸ì´ ë  ìˆ˜ë„ ìˆë‹¤ê³  ìƒê°í•œë‹¤.", bad: "no" },
            { text: "ì¥ì• ì¸ì€ íƒ€ì¸ì˜ ë„ì›€ì„ ë°›ëŠ” ê²ƒì´ ì–´ì©” ìˆ˜ ì—†ëŠ” ì‚¬ëŒì´ë¼ê³  ìƒê°í•œë‹¤.", bad: "yes" },
            { text: "ê°€ë‚œí•œ ì‚¬ëŒì€ ì‚¬íšŒë³´ë‹¤ëŠ” ê°œì¸ì˜ ê²Œìœ¼ë¦„ì´ ì»¤ì„œ ê°€ë‚œí•œ ê²ƒ ê°™ë‹¤.", bad: "yes" },
            { text: "ê°€ë‚œí•œ ì‚¶ì„ ì‚´ì•„ë„ ì—´ì‹¬íˆ ê³µë¶€í•˜ë©´ ì¬ëŠ¥ì„ ë°œíœ˜í•  ê°€ëŠ¥ì„±ì´ í¬ë‹¤ê³  ìƒê°í•œë‹¤.", bad: "no" },
            { text: "ê¸‰í•œ ì¼ì´ ì—†ì„ ë•Œ 50ë§Œ ì›ì´ ìƒê¸°ë©´ ê¸°ë¶€ë³´ë‹¤ ë‚˜ë¥¼ ìœ„í•´ ë¨¼ì € ì“¸ ê²ƒ ê°™ë‹¤.", bad: "yes" }
        ];

        const cases = {
            toilet: {
                title: "ì¥ì• ì¸ í™”ì¥ì‹¤ ë¶€ì¬",
                prob: "íœ ì²´ì–´ ì‚¬ìš©ìê°€ ì´ìš©í•  ìˆ˜ ìˆëŠ” í™”ì¥ì‹¤ì´ ì—†ìŠµë‹ˆë‹¤.",
                sol: "ì¥ì• ì¸ í¸ì˜ì‹œì„¤ ì˜ë¬´í™” ê·œì •ì„ ê·¼ê±°ë¡œ ë¯¼ì›Â·ê°œì„  ìš”êµ¬ì„œë¥¼ ì œì¶œí•´ ë³´ì„¸ìš”."
            },
            elderTech: {
                title: "ë””ì§€í„¸ ì†Œì™¸ ë…¸ì¸",
                prob: "ì˜¨ë¼ì¸ ë³‘ì› ì˜ˆì•½Â·ë²„ìŠ¤ ì •ë³´ í™•ì¸ì´ ì–´ë ¤ì›Œ ê³¤ë€ì„ ê²ªìŠµë‹ˆë‹¤.",
                sol: "ì§€ì—­ ë””ì§€í„¸ ë°°ì›€í„°, í° ê¸€ì”¨ ì•±, ì Šì€ ì„¸ëŒ€ ë©˜í† ë§ ìº í˜ì¸ì„ í™œìš©í•´ ë³´ì„¸ìš”."
            },
            childVoice: {
                title: "ì•„ë™ ì˜ê²¬ ë¬´ì‹œ",
                prob: "ê°€ì •Â·í•™êµì—ì„œ ì•„ë™ì˜ ì˜ì‚¬ë¥¼ ë¬»ì§€ ì•Šê³  ê²°ì •í•©ë‹ˆë‹¤.",
                sol: "ì•„ë™ê¶Œë¦¬í˜‘ì•½(UNCRC) 12ì¡°ë¥¼ ê·¼ê±°ë¡œ ì˜ì‚¬ í‘œí˜„ ê¸°íšŒë¥¼ ìš”ì²­í•˜ì„¸ìš”."
            }
        };

        const resources = {
            books: [
                { title: "ìš°ë¦¬ëŠ” ëª¨ë‘ í˜ë¯¸ë‹ˆìŠ¤íŠ¸ê°€ ë˜ì–´ì•¼ í•©ë‹ˆë‹¤", url: "https://book.naver.com" },
                { title: "ì°¨ë³„ì€ ì–´ë–»ê²Œ ë§Œë“¤ì–´ì§€ëŠ”ê°€", url: "https://book.naver.com" }
            ],
            videos: [
                { title: "UN Human Rights TED Talk", url: "https://www.ted.com" },
                { title: "Inclusive Design Essentials", url: "https://www.youtube.com" }
            ],
            sites: [
                { title: "êµ­ê°€ì¸ê¶Œìœ„ì›íšŒ", url: "https://www.humanrights.go.kr" },
                { title: "Amnesty International", url: "https://amnesty.org" }
            ]
        };

        const dailyQuests = [
            "ì—˜ë¦¬ë² ì´í„°ì—ì„œ ë¨¼ì € ì¸ì‚¬í•˜ê¸°",
            "ì„±ë³„Â·ì—°ë ¹Â·ì¥ì•  ìœ ë¬´ì— ìƒê´€ì—†ì´ ë¬¸ ì¡ì•„ì£¼ê¸°",
            "ì˜¤ëŠ˜ ì½ì€ ê¸°ì‚¬ ì œëª©ì— ì°¨ë³„ì  í‘œí˜„ì´ ì—†ëŠ”ì§€ í™•ì¸í•˜ê¸°",
            "SNSì— ì¸ê¶Œ ê´€ë ¨ ìº í˜ì¸ ê³µìœ í•˜ê¸°",
            "ì¶œê·¼Â·ë“±êµ£ê¸¸ì— íœ ì²´ì–´ ê²½ì‚¬ë¡œ ìƒíƒœ ì‚´í´ë³´ê³  ë¬¸ì œ ë°œê²¬ ì‹œ ë¯¼ì› ë„£ê¸°"
        ];

        /* -------------------------- ìƒíƒœ --------------------------- */
        let quiz = [],
            idx = 0,
            badCount = 0;
        const $ = (s) => document.querySelector(s);

        /* ----------------------- ì´ˆê¸° ë¡œë”© -------------------------- */
        window.addEventListener("DOMContentLoaded", () => {
            // ë°©ë¬¸ ì—¬ë¶€ ì²´í¬
            if (localStorage.getItem("visited")) {
                $("#introTitle").textContent = "ë‹¤ì‹œ ì˜¤ì…¨êµ°ìš”!";
                $("#introMsg").textContent = "í•„ìš”í•˜ë‹¤ë©´ ì–¸ì œë“  ì‚¬ë¡€ì™€ ìë£Œë¥¼ ì‚´í´ë³´ì„¸ìš”.";
                $("#introBtn").textContent = "ì‚¬ë¡€ ë³´ê¸°";
                $("#introBtn").onclick = () => goSection("main");
            }

            // ì¼ì¼ í€˜ìŠ¤íŠ¸ í‘œì‹œ
            showDailyQuest();
        });

        /* --------------------- ë„¤ë¹„ê²Œì´ì…˜ ------------------------- */
        function goSection(id) {
            document.querySelectorAll("main section").forEach((sec) => sec.classList.remove("active"));
            $("#" + id).classList.add("active");
            // ì¶”ê°€ ì´ˆê¸°í™” ì²˜ë¦¬
            if (id === "main") loadCards();
            if (id === "resources") buildCatList();
        }

        /* ---------------------- ì§„ë‹¨/í€´ì¦ˆ --------------------------- */
        function start() {
            if (localStorage.getItem("visited")) {
                goSection("main");
                return;
            }
            goSection("test");
            quiz = questions.slice().sort(() => Math.random() - 0.5);
            idx = 0;
            badCount = 0;
            nextQ();
        }

        function resetCheck() {
            localStorage.removeItem("visited");
            location.reload();
        }

        function answer(choice) {
            const q = quiz[idx];
            if (choice === q.bad || choice === "unsure") badCount++;
            idx++;
            idx < quiz.length ? nextQ() : finish();
        }

        function nextQ() {
            $("#qText").textContent = quiz[idx].text;
            $("#progress").textContent = `${idx + 1} / ${quiz.length}`;
        }

        function finish() {
            localStorage.setItem("visited", "true");
            let msg = "";
            if (badCount >= 8) {
                msg = "ì‚¬íšŒì— ëŒ€í•œ ì‹œê°ì„ ë” ë„“í í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤. ë‹¤ì–‘í•œ ê´€ì ì„ ì¡´ì¤‘í•´ ë³´ì„¸ìš”.";
            } else if (badCount >= 2) {
                msg = "ìš°ë¦¬ëŠ” ë” ë‚˜ì€ ì‚¬íšŒë¥¼ ìœ„í•´ ì–´ë–¤ ë…¸ë ¥ì„ ê¸°ìš¸ì¼ ìˆ˜ ìˆì„ê¹Œìš”?";
            } else {
                msg = "ì¢‹ì€ ì‹œê°ì„ ê°€ì§€ê³  ê³„ì‹œë„¤ìš”! ê³„ì†í•´ì„œ ê°ìˆ˜ì„±ì„ ì§€ì¼œì£¼ì„¸ìš”.";
            }
            alert(msg);
            goSection("main");
        }

        /* --------------------- ì‚¬ë¡€(CASE) ------------------------- */
        function loadCards() {
            const wrap = $("#cards");
            wrap.innerHTML = "";
            for (const id in cases) {
                const c = cases[id];
                const div = document.createElement("div");
                div.className = "card";
                div.innerHTML = `<h3>${c.title}</h3><p>${c.prob}</p>`;
                div.onclick = () => showCase(id);
                wrap.appendChild(div);
            }
        }

        function showCase(id) {
            const c = cases[id];
            goSection("caseViewer");
            $("#caseTitle").textContent = c.title;
            $("#caseProb").textContent = c.prob;
            $("#caseSol").textContent = c.sol;
        }

        function closeCase() {
            goSection("main");
        }

        /* --------------------- ìë£Œì‹¤ ----------------------------- */
        function buildCatList() {
            const wrap = $("#catList");
            wrap.innerHTML = "";
            const cats = [
                { id: "books", label: "ğŸ“š ë„ì„œ" },
                { id: "videos", label: "ğŸ¬ ì˜ìƒ" },
                { id: "sites", label: "ğŸŒ ì‚¬ì´íŠ¸" }
            ];
            cats.forEach((cat) => {
                const div = document.createElement("div");
                div.className = "card";
                div.textContent = cat.label;
                div.onclick = () => openResource(cat.id);
                wrap.appendChild(div);
            });
        }

        function openResource(type) {
            // ìˆ¨ê¹€ ì²˜ë¦¬
            ["bookPage", "videoPage", "sitePage"].forEach((id) => {
                $("#" + id).style.display = "none";
            });

            if (type === "books") {
                fillList("bookList", resources.books);
                $("#bookPage").style.display = "block";
            } else if (type === "videos") {
                fillList("videoList", resources.videos);
                $("#videoPage").style.display = "block";
            } else if (type === "sites") {
                fillList("siteList", resources.sites);
                $("#sitePage").style.display = "block";
            }
        }

        function fillList(ulId, items) {
            const ul = $("#" + ulId);
            ul.innerHTML = "";
            items.forEach((item) => {
                const li = document.createElement("li");
                li.innerHTML = `<a href="${item.url}" target="_blank" rel="noopener">${item.title}</a>`;
                ul.appendChild(li);
            });
        }

        function showCatList() {
            ["bookPage", "videoPage", "sitePage"].forEach((id) => {
                $("#" + id).style.display = "none";
            });
        }

        /* ------------------ ë°ì¼ë¦¬ í€˜ìŠ¤íŠ¸ ------------------------- */
        function showDailyQuest() {
            const today = new Date().toISOString().split("T")[0];
            const lastDate = localStorage.getItem("questDate");
            let quest = localStorage.getItem("questText");

            if (today !== lastDate) {
                quest = dailyQuests[Math.floor(Math.random() * dailyQuests.length)];
                localStorage.setItem("questDate", today);
                localStorage.setItem("questText", quest);
            }

            $("#questText").textContent = `ğŸ’¡ ì˜¤ëŠ˜ì˜ ì‹¤ì²œ ê³¼ì œ: ${quest}`;

            // ì•Œë¦¼ ê¶Œí•œ ìš”ì²­ & ì „ì†¡
            if (Notification && Notification.permission === "granted") {
                new Notification("ì˜¤ëŠ˜ì˜ ì¸ê¶Œ ì‹¤ì²œ", { body: quest, icon: "" });
            } else if (Notification && Notification.permission !== "denied") {
                Notification.requestPermission((perm) => {
                    if (perm === "granted") {
                        new Notification("ì˜¤ëŠ˜ì˜ ì¸ê¶Œ ì‹¤ì²œ", { body: quest, icon: "" });
                    }
                });
            }
        }
    </script>
</body>
</html>
